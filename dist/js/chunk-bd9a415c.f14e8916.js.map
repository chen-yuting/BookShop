{"version":3,"sources":["webpack:///./src/components/speak/SpeakPlaying.vue?1df5","webpack:///./src/components/speak/SpeakBottom.vue?cd71","webpack:///src/components/speak/SpeakBottom.vue","webpack:///./src/components/speak/SpeakBottom.vue?44bd","webpack:///./src/components/speak/SpeakBottom.vue","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./src/components/speak/SpeakBottom.vue?c2e4","webpack:///./src/components/speak/SpeakMask.vue?3b13","webpack:///src/components/speak/SpeakMask.vue","webpack:///./src/components/speak/SpeakMask.vue?58a6","webpack:///./src/components/speak/SpeakMask.vue","webpack:///./src/components/speak/SpeakMask.vue?c0f0","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es6.date.to-string.js","webpack:///src/views/store/StoreSpeaking.vue","webpack:///./src/components/speak/SpeakPlaying.vue?7de7","webpack:///src/components/speak/SpeakPlaying.vue","webpack:///./src/components/speak/SpeakPlaying.vue?c0f0","webpack:///./src/components/speak/SpeakPlaying.vue","webpack:///./src/views/store/StoreSpeaking.vue?065d","webpack:///./src/views/store/StoreSpeaking.vue?265e","webpack:///./src/views/store/StoreSpeaking.vue","webpack:///./src/views/store/StoreSpeaking.vue?8868"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","showPlay","on","$event","stopPropagation","preventDefault","onPlayingCardClick","togglePlay","isPlaying","_v","_s","chapter","label","currentSectionIndex","currentSectionTotal","_e","playInfo","currentMinute","currentSecond","totalMinute","totalSecond","$t","staticRenderFns","props","Object","Number","Boolean","methods","$parent","$emit","component","flags","f","RegExp","prototype","configurable","get","attrs","directives","name","rawName","value","expression","hide","title","ref","domProps","progress","onProgressChange","target","onProgressInput","leftMinute","leftSecond","prev","next","String","book","section","data","visible","speakCardVisible","readHeight","refreshProgress","p","$refs","style","backgroundSize","updateText","promise","then","rendition","resetPlay","setTimeout","display","renderTo","width","window","innerWidth","height","method","displayed","href","show","refresh","$nextTick","bookWrapper","anObject","$flags","DESCRIPTORS","TO_STRING","$toString","define","fn","call","source","R","concat","undefined","DateProto","Date","INVALID_DATE","getTime","NaN","global","ePub","components","DetailTitle","BookInfo","Scroll","SpeakPlaying","Bottom","SpeakWindow","computed","m","s","audioCanPlay","lang","metadata","language","disableScroll","speakWindow","playingIndex","scrollBottom","flatNavigation","desc","description","substring","navigation","Array","apply","category","bookItem","author","creator","cover","ifShowContent","paragraph","audio","currentPlayingTime","totalPlayingTime","playStatus","toastText","isOnline","createVoice","xmlhttp","open","send","xmlDoc","json","path","src","continuePlay","showToast","pausePlay","play","speak","index","spine","text","replace","pause","speakPlaying","stopAnimation","onAudioEnded","currentTime","percent","onTimeUpdate","onCanPlay","duration","findBookFromList","response","status","bookList","length","init","err","blob","opf","fileName","downloadBook","parseBook","loaded","coverUrl","back","$router","go","onScroll","offsetY","showShadow","hideShadow","toggleContent","doFlatNavigation","content","forEach","item","deep","arr","push","subitems","simpleToast","mounted","_l","key","refInFor","number","styles","i","startAnimation","task","setInterval","clearInterval","random","Math","ceil","_m"],"mappings":"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","file":"js/chunk-bd9a415c.f14e8916.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=style&index=0&id=27e4dcfb&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=style&index=0&id=27e4dcfb&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bottom-wrapper\",class:{ 'hide-play': !_vm.showPlay }},[(_vm.showPlay)?_c('div',{staticClass:\"bottom-playing-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onPlayingCardClick($event)}}},[_c('div',{staticClass:\"bottom-playing-left\"},[_c('div',{staticClass:\"icon-play-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.togglePlay($event)}}},[(!_vm.isPlaying)?_c('span',{staticClass:\"icon-play_go\"}):_c('span',{staticClass:\"icon-play_pause\"})])]),_c('div',{staticClass:\"bottom-playing-right\"},[_c('div',{staticClass:\"bottom-playing-chapter-text\"},[_c('span',{staticClass:\"chapter-label\"},[_vm._v(_vm._s(_vm.chapter ? _vm.chapter.label : \"\"))]),(_vm.currentSectionIndex && _vm.currentSectionTotal)?_c('span',{staticClass:\"bottom-playing-page-text\"},[_vm._v(\"( \"+_vm._s(_vm.currentSectionIndex)+\" / \"+_vm._s(_vm.currentSectionTotal)+\" )\")]):_vm._e()]),_c('div',{staticClass:\"bottom-playing-page-text\"},[_vm._v(\"\\n        \"+_vm._s(_vm.playInfo ? _vm.playInfo.currentMinute : \"00\")+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.currentSecond : \"00\")+\"\\n        / \"+_vm._s(_vm.playInfo ? _vm.playInfo.totalMinute : \"00\")+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.totalSecond : \"00\")+\"\\n      \")])])]):_vm._e(),_c('div',{staticClass:\"bottom-btn-wrapper\"},[_c('span',{staticClass:\"bottom-btn-text\"},[_vm._v(_vm._s(_vm.$t(\"detail.addOrRemoveShelf\")))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bottom-wrapper\" :class=\"{ 'hide-play': !showPlay }\">\r\n    <div\r\n      class=\"bottom-playing-wrapper\"\r\n      @click.stop.prevent=\"onPlayingCardClick\"\r\n      v-if=\"showPlay\"\r\n    >\r\n      <div class=\"bottom-playing-left\">\r\n        <div class=\"icon-play-wrapper\" @click.stop.prevent=\"togglePlay\">\r\n          <span class=\"icon-play_go\" v-if=\"!isPlaying\"></span>\r\n          <span class=\"icon-play_pause\" v-else></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"bottom-playing-right\">\r\n        <div class=\"bottom-playing-chapter-text\">\r\n          <span class=\"chapter-label\">{{ chapter ? chapter.label : \"\" }}</span>\r\n          <span\r\n            class=\"bottom-playing-page-text\"\r\n            v-if=\"currentSectionIndex && currentSectionTotal\"\r\n            >( {{ currentSectionIndex }} / {{ currentSectionTotal }} )</span\r\n          >\r\n        </div>\r\n        <div class=\"bottom-playing-page-text\">\r\n          {{ playInfo ? playInfo.currentMinute : \"00\" }}:{{\r\n            playInfo ? playInfo.currentSecond : \"00\"\r\n          }}\r\n          / {{ playInfo ? playInfo.totalMinute : \"00\" }}:{{\r\n            playInfo ? playInfo.totalSecond : \"00\"\r\n          }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"bottom-btn-wrapper\">\r\n      <span class=\"bottom-btn-text\">{{ $t(\"detail.addOrRemoveShelf\") }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    chapter: Object,\r\n    currentSectionIndex: Number,\r\n    currentSectionTotal: Number,\r\n    showPlay: Boolean,\r\n    isPlaying: Boolean,\r\n    playInfo: Object,\r\n  },\r\n  methods: {\r\n    togglePlay() {\r\n      this.$parent.togglePlay();\r\n    },\r\n    onPlayingCardClick() {\r\n      this.$emit(\"onPlayingCardClick\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import \"../../assets/styles/global\";\r\n\r\n.bottom-wrapper {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 110;\r\n  width: 100%;\r\n  height: px2rem(116);\r\n  background: white;\r\n  box-shadow: 0 px2rem(-2) px2rem(2) 0 rgba(0, 0, 0, 0.1);\r\n  &.hide-play {\r\n    height: px2rem(52);\r\n  }\r\n  .bottom-playing-wrapper {\r\n    display: flex;\r\n    width: 100%;\r\n    height: px2rem(64);\r\n    .bottom-playing-left {\r\n      flex: 0 0 px2rem(70);\r\n      width: px2rem(70);\r\n      @include center;\r\n      .icon-play-wrapper {\r\n        flex: 0 0 px2rem(100);\r\n        @include center;\r\n        &:active {\r\n          opacity: 0.5;\r\n        }\r\n        .icon-play_go {\r\n          font-size: px2rem(40);\r\n          color: $color-blue;\r\n        }\r\n        .icon-play_pause {\r\n          font-size: px2rem(40);\r\n          color: $color-blue;\r\n        }\r\n      }\r\n    }\r\n    .bottom-playing-right {\r\n      flex: 1;\r\n      padding-right: px2rem(15);\r\n      box-sizing: border-box;\r\n      @include columnLeft;\r\n      .bottom-playing-chapter-text {\r\n        max-width: px2rem(305);\r\n        color: #333;\r\n        font-size: px2rem(16);\r\n        line-height: px2rem(19);\r\n        @include ellipsis;\r\n      }\r\n      .bottom-playing-page-text {\r\n        color: #666;\r\n        font-size: px2rem(10);\r\n        margin-top: px2rem(5);\r\n      }\r\n    }\r\n  }\r\n  .bottom-btn-wrapper {\r\n    width: 100%;\r\n    height: px2rem(52);\r\n    border-top: px2rem(1) solid #eee;\r\n    box-sizing: border-box;\r\n    @include center;\r\n    .bottom-btn-text {\r\n      font-size: px2rem(14);\r\n      color: $color-blue;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakBottom.vue?vue&type=template&id=e5e74f08&scoped=true&\"\nimport script from \"./SpeakBottom.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakBottom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakBottom.vue?vue&type=style&index=0&id=e5e74f08&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5e74f08\",\n  null\n  \n)\n\nexport default component.exports","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=style&index=0&id=e5e74f08&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=style&index=0&id=e5e74f08&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"book-speak-mask-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.hide($event)}}},[_c('transition',{attrs:{\"name\":\"popup-slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.speakCardVisible),expression:\"speakCardVisible\"}],staticClass:\"book-speak-mask-card-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.hide($event)}}},[_c('div',{staticClass:\"pulldown-icon-wrapper\",on:{\"click\":_vm.hide}},[_c('span',{staticClass:\"icon-pull_down\"})]),_c('div',{staticClass:\"card-title-wrapper\"},[_c('div',{staticClass:\"icon-speak-wrapper\"},[_c('span',{staticClass:\"icon-speak\"})]),_c('div',{staticClass:\"speak-title-wrapper\"},[_c('span',{staticClass:\"speak-title\"},[_vm._v(_vm._s(_vm.$t(\"speak.voice\")))])]),_c('div',{staticClass:\"read-fulltext-wrapper\"},[_c('span',{staticClass:\"read-fulltext\"},[_vm._v(_vm._s(_vm.$t(\"speak.read\")))])])]),_c('div',{staticClass:\"card-section-title-wrapper\"},[_c('div',{staticClass:\"card-section-title-text\"},[_vm._v(_vm._s(_vm.title))]),(_vm.currentSectionIndex)?_c('div',{staticClass:\"card-section-sub-title-text\"},[_vm._v(\"\\n            \"+_vm._s(_vm.currentSectionIndex)+\" /\\n            \"+_vm._s(_vm.currentSectionTotal)+\"\\n          \")]):_vm._e()]),_c('div',{staticClass:\"setting-progress\"},[_c('div',{staticClass:\"progress-wrapper\"},[_c('input',{ref:\"progress\",staticClass:\"progress\",attrs:{\"type\":\"range\",\"max\":\"100\",\"min\":\"0\",\"step\":\"1\"},domProps:{\"value\":_vm.progress},on:{\"change\":function($event){return _vm.onProgressChange($event.target.value)},\"input\":function($event){return _vm.onProgressInput($event.target.value)}}})]),_c('div',{staticClass:\"progress-text\"},[_c('div',{staticClass:\"progress-text-current\"},[_vm._v(\"\\n              \"+_vm._s(_vm.playInfo ? _vm.playInfo.currentMinute : \"00\")+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.currentSecond : \"00\")+\"\\n            \")]),_c('div',{staticClass:\"progress-text-left\"},[_vm._v(\"\\n              -\"+_vm._s(_vm.playInfo ? _vm.playInfo.leftMinute : \"00\")+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.leftSecond : \"00\")+\"\\n            \")])])]),_c('div',{staticClass:\"playing-wrapper\"},[_c('div',{staticClass:\"icon-settings-wrapper\"},[_c('span',{staticClass:\"icon-settings\"}),_c('div',{staticClass:\"settings-text\"},[_vm._v(_vm._s(_vm.$t(\"speak.settings\")))])]),_c('span',{staticClass:\"icon-play_backward\",class:{ 'not-use': _vm.currentSectionIndex <= 1 },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.prev($event)}}}),_c('div',{staticClass:\"icon-play-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.togglePlay($event)}}},[(!_vm.isPlaying)?_c('span',{staticClass:\"icon-play_go\"}):_c('span',{staticClass:\"icon-play_pause\"})]),_c('span',{staticClass:\"icon-play_forward\",class:{ 'not-use': _vm.currentSectionIndex >= _vm.currentSectionTotal },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.next($event)}}}),_c('div',{staticClass:\"icon-clock-wrapper\"},[_c('span',{staticClass:\"icon-clock\"}),_c('div',{staticClass:\"clock-text\"},[_vm._v(_vm._s(_vm.$t(\"speak.timing\")))])])]),_c('div',{staticClass:\"read-apply-wrapper\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"speak.apply\"))+\"\\n        \")]),_c('div',{staticClass:\"read-title-wrapper\"},[_c('span',{staticClass:\"line\"}),_c('div',{staticClass:\"read-title-text\"},[_vm._v(_vm._s(_vm.$t(\"speak.current\")))]),_c('span',{staticClass:\"line\"})]),_c('div',{ref:\"bookWrapper\",staticClass:\"book-wrapper\"},[_c('div',{attrs:{\"id\":\"book-read\"}})])])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"fade\">\r\n    <div\r\n      class=\"book-speak-mask-wrapper\"\r\n      @click.stop.prevent=\"hide\"\r\n      v-show=\"visible\"\r\n    >\r\n      <transition name=\"popup-slide-up\">\r\n        <div\r\n          class=\"book-speak-mask-card-wrapper\"\r\n          v-show=\"speakCardVisible\"\r\n          @click.stop.prevent=\"hide\"\r\n        >\r\n          <div class=\"pulldown-icon-wrapper\" @click=\"hide\">\r\n            <span class=\"icon-pull_down\"></span>\r\n          </div>\r\n          <div class=\"card-title-wrapper\">\r\n            <div class=\"icon-speak-wrapper\">\r\n              <span class=\"icon-speak\"></span>\r\n            </div>\r\n            <div class=\"speak-title-wrapper\">\r\n              <span class=\"speak-title\">{{ $t(\"speak.voice\") }}</span>\r\n            </div>\r\n            <div class=\"read-fulltext-wrapper\">\r\n              <span class=\"read-fulltext\">{{ $t(\"speak.read\") }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"card-section-title-wrapper\">\r\n            <div class=\"card-section-title-text\">{{ title }}</div>\r\n            <div class=\"card-section-sub-title-text\" v-if=\"currentSectionIndex\">\r\n              {{ currentSectionIndex }} /\r\n              {{ currentSectionTotal }}\r\n            </div>\r\n          </div>\r\n          <div class=\"setting-progress\">\r\n            <div class=\"progress-wrapper\">\r\n              <input\r\n                class=\"progress\"\r\n                type=\"range\"\r\n                max=\"100\"\r\n                min=\"0\"\r\n                step=\"1\"\r\n                @change=\"onProgressChange($event.target.value)\"\r\n                @input=\"onProgressInput($event.target.value)\"\r\n                :value=\"progress\"\r\n                ref=\"progress\"\r\n              />\r\n            </div>\r\n            <div class=\"progress-text\">\r\n              <div class=\"progress-text-current\">\r\n                {{ playInfo ? playInfo.currentMinute : \"00\" }}:{{\r\n                  playInfo ? playInfo.currentSecond : \"00\"\r\n                }}\r\n              </div>\r\n              <div class=\"progress-text-left\">\r\n                -{{ playInfo ? playInfo.leftMinute : \"00\" }}:{{\r\n                  playInfo ? playInfo.leftSecond : \"00\"\r\n                }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"playing-wrapper\">\r\n            <div class=\"icon-settings-wrapper\">\r\n              <span class=\"icon-settings\"></span>\r\n              <div class=\"settings-text\">{{ $t(\"speak.settings\") }}</div>\r\n            </div>\r\n            <span\r\n              class=\"icon-play_backward\"\r\n              :class=\"{ 'not-use': currentSectionIndex <= 1 }\"\r\n              @click.stop.prevent=\"prev\"\r\n            ></span>\r\n            <div class=\"icon-play-wrapper\" @click.stop.prevent=\"togglePlay\">\r\n              <span class=\"icon-play_go\" v-if=\"!isPlaying\"></span>\r\n              <span class=\"icon-play_pause\" v-else></span>\r\n            </div>\r\n            <span\r\n              class=\"icon-play_forward\"\r\n              :class=\"{ 'not-use': currentSectionIndex >= currentSectionTotal }\"\r\n              @click.stop.prevent=\"next\"\r\n            ></span>\r\n            <div class=\"icon-clock-wrapper\">\r\n              <span class=\"icon-clock\"></span>\r\n              <div class=\"clock-text\">{{ $t(\"speak.timing\") }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"read-apply-wrapper\">\r\n            {{ $t(\"speak.apply\") }}\r\n          </div>\r\n          <div class=\"read-title-wrapper\">\r\n            <span class=\"line\"></span>\r\n            <div class=\"read-title-text\">{{ $t(\"speak.current\") }}</div>\r\n            <span class=\"line\"></span>\r\n          </div>\r\n          <div class=\"book-wrapper\" ref=\"bookWrapper\">\r\n            <div id=\"book-read\"></div>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { realPx } from \"@/utils/utils\";\r\n\r\nexport default {\r\n  props: {\r\n    title: String,\r\n    book: Object,\r\n    section: Object,\r\n    currentSectionIndex: Number,\r\n    currentSectionTotal: Number,\r\n    isPlaying: Boolean,\r\n    playInfo: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      speakCardVisible: false,\r\n      progress: 0,\r\n      readHeight: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    refreshProgress(p) {\r\n      this.progress = p;\r\n      this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`;\r\n    },\r\n    updateText(promise) {\r\n      promise.then(() => {\r\n        const currentPage = this.rendition.currentLocation();\r\n        const cfibase = this.section.cfiBase;\r\n        const cfistart = currentPage.start.cfi\r\n          .replace(/.*!/, \"\")\r\n          .replace(/\\)/, \"\");\r\n        const cfiend = currentPage.end.cfi.replace(/.*!/, \"\").replace(/\\)/, \"\");\r\n        this.book\r\n          .getRange(`epubcfi(${cfibase}!,${cfistart},${cfiend})`)\r\n          .then((range) => {\r\n            let text = range.toString();\r\n            text = text.replace(/\\s(2,)/g, \"\");\r\n            text = text.replace(/\\r/g, \"\");\r\n            text = text.replace(/\\n/g, \"\");\r\n            text = text.replace(/\\t/g, \"\");\r\n            text = text.replace(/\\f/g, \"\");\r\n            this.$emit(\"updateText\", text);\r\n          });\r\n      });\r\n    },\r\n    togglePlay() {\r\n      this.$parent.togglePlay();\r\n    },\r\n    prev() {\r\n      if (this.currentSectionIndex > 1) {\r\n        this.updateText(this.rendition.prev());\r\n        this.$emit(\"update:currentSectionIndex\", this.currentSectionIndex - 1);\r\n        this.$parent.resetPlay();\r\n        setTimeout(() => {\r\n          this.$parent.togglePlay();\r\n        }, 500);\r\n      }\r\n    },\r\n    next() {\r\n      if (this.currentSectionIndex < this.currentSectionTotal) {\r\n        this.updateText(this.rendition.next());\r\n        this.$emit(\"update:currentSectionIndex\", this.currentSectionIndex + 1);\r\n        this.$parent.resetPlay();\r\n        setTimeout(() => {\r\n          this.$parent.togglePlay();\r\n        }, 500);\r\n      }\r\n    },\r\n    display() {\r\n      if (!this.rendition) {\r\n        this.rendition = this.book.renderTo(\"book-read\", {\r\n          width: window.innerWidth > 640 ? 640 : window.innerWidth,\r\n          height: this.readHeight,\r\n          method: \"default\",\r\n        });\r\n        this.displayed = this.rendition.display(this.section.href);\r\n      } else {\r\n        this.displayed = this.rendition.display(this.section.href);\r\n      }\r\n    },\r\n    onProgressChange(progress) {},\r\n    onProgressInput(progress) {\r\n      this.progress = progress;\r\n      this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`;\r\n    },\r\n    hide() {\r\n      this.speakCardVisible = false;\r\n      this.visible = false;\r\n    },\r\n    show() {\r\n      this.visible = true;\r\n      this.speakCardVisible = true;\r\n      this.refresh();\r\n      this.$nextTick(() => {\r\n        this.display();\r\n      });\r\n    },\r\n    refresh() {\r\n      this.readHeight =\r\n        window.innerHeight * 0.9 -\r\n        realPx(40) -\r\n        realPx(54) -\r\n        realPx(46) -\r\n        realPx(48) -\r\n        realPx(60) -\r\n        realPx(44);\r\n      // console.log(this.readHeight)\r\n      this.$refs.bookWrapper.style.height = this.readHeight + \"px\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import \"../../assets/styles/global\";\r\n\r\n.book-speak-mask-wrapper {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 120;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  .book-speak-mask-card-wrapper {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: 120;\r\n    width: 100%;\r\n    height: 90%;\r\n    background: white;\r\n    border-radius: px2rem(10) px2rem(10) 0 0;\r\n    .pulldown-icon-wrapper {\r\n      width: 100%;\r\n      height: px2rem(40);\r\n      color: #ccc;\r\n      font-size: px2rem(40);\r\n      @include center;\r\n    }\r\n    .card-title-wrapper {\r\n      width: 100%;\r\n      height: px2rem(54);\r\n      display: flex;\r\n      padding: 0 px2rem(15);\r\n      box-sizing: border-box;\r\n      .icon-speak-wrapper {\r\n        flex: 0 0 px2rem(40);\r\n        @include left;\r\n        .icon-speak {\r\n          font-size: px2rem(24);\r\n          color: #999;\r\n        }\r\n      }\r\n      .speak-title-wrapper {\r\n        flex: 1;\r\n        @include left;\r\n        .speak-title {\r\n          font-size: px2rem(16);\r\n          font-weight: bold;\r\n          color: #666;\r\n        }\r\n      }\r\n      .read-fulltext-wrapper {\r\n        flex: 1;\r\n        @include right;\r\n        .read-fulltext {\r\n          font-size: px2rem(12);\r\n          font-weight: bold;\r\n          color: $color-blue;\r\n          background: rgba(74, 171, 255, 0.2);\r\n          padding: px2rem(5) px2rem(10);\r\n          box-sizing: border-box;\r\n          border-radius: px2rem(20);\r\n        }\r\n      }\r\n    }\r\n    .card-section-title-wrapper {\r\n      width: 100%;\r\n      height: px2rem(46);\r\n      padding: 0 px2rem(15);\r\n      box-sizing: border-box;\r\n      @include columnCenter;\r\n      .card-section-title-text {\r\n        font-size: px2rem(16);\r\n        color: #333;\r\n        font-weight: bold;\r\n      }\r\n      .card-section-sub-title-text {\r\n        font-size: px2rem(12);\r\n        color: #666;\r\n        margin-top: px2rem(5);\r\n      }\r\n    }\r\n    .setting-progress {\r\n      width: 100%;\r\n      height: px2rem(48);\r\n      @include columnTop;\r\n      .progress-wrapper {\r\n        flex: 1;\r\n        width: 100%;\r\n        @include center;\r\n        padding: 0 px2rem(30);\r\n        box-sizing: border-box;\r\n        .progress {\r\n          width: 100%;\r\n          -webkit-appearance: none;\r\n          height: px2rem(2);\r\n          background: -webkit-linear-gradient($color-blue, $color-blue)\r\n              no-repeat,\r\n            rgba(74, 171, 255, 0.2);\r\n          background-size: 0 100%;\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n          &::-webkit-slider-thumb {\r\n            -webkit-appearance: none;\r\n            height: px2rem(20);\r\n            width: px2rem(20);\r\n            border-radius: 50%;\r\n            background: $color-blue;\r\n            border: none;\r\n            box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.15);\r\n          }\r\n        }\r\n      }\r\n      .progress-text {\r\n        display: flex;\r\n        width: 100%;\r\n        padding: 0 px2rem(30);\r\n        box-sizing: border-box;\r\n        .progress-text-current {\r\n          flex: 1;\r\n          text-align: left;\r\n          font-size: px2rem(10);\r\n          color: #666;\r\n        }\r\n        .progress-text-left {\r\n          flex: 1;\r\n          text-align: right;\r\n          font-size: px2rem(10);\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n    .playing-wrapper {\r\n      width: 100%;\r\n      height: px2rem(60);\r\n      @include center;\r\n      .icon-settings-wrapper {\r\n        flex: 1;\r\n        @include columnCenter;\r\n        .icon-settings {\r\n          font-size: px2rem(18);\r\n          color: #666;\r\n        }\r\n        .settings-text {\r\n          margin-top: px2rem(5);\r\n          font-size: px2rem(10);\r\n          color: #666;\r\n        }\r\n      }\r\n      .icon-play_backward {\r\n        font-size: px2rem(30);\r\n        color: $color-blue;\r\n        &:active {\r\n          opacity: 0.5;\r\n        }\r\n        &.not-use {\r\n          color: $color-blue-transparent;\r\n        }\r\n      }\r\n      .icon-play-wrapper {\r\n        flex: 0 0 px2rem(100);\r\n        @include center;\r\n        &:active {\r\n          opacity: 0.5;\r\n        }\r\n        .icon-play_go {\r\n          font-size: px2rem(50);\r\n          color: $color-blue;\r\n        }\r\n        .icon-play_pause {\r\n          font-size: px2rem(50);\r\n          color: $color-blue;\r\n        }\r\n      }\r\n      .icon-play_forward {\r\n        font-size: px2rem(30);\r\n        color: $color-blue;\r\n        &:active {\r\n          opacity: 0.5;\r\n        }\r\n        &.not-use {\r\n          color: $color-blue-transparent;\r\n        }\r\n      }\r\n      .icon-clock-wrapper {\r\n        flex: 1;\r\n        @include columnCenter;\r\n        .icon-clock2 {\r\n          font-size: px2rem(18);\r\n          color: #666;\r\n        }\r\n        .clock-text {\r\n          margin-top: px2rem(5);\r\n          font-size: px2rem(10);\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n    .read-apply-wrapper {\r\n      width: 100%;\r\n      height: px2rem(20);\r\n      font-size: px2rem(10);\r\n      color: $color-green;\r\n      @include center;\r\n    }\r\n    .read-title-wrapper {\r\n      width: 100%;\r\n      height: px2rem(24);\r\n      box-sizing: border-box;\r\n      @include center;\r\n      .line {\r\n        flex: 1;\r\n        border-top: px2rem(1) solid #eee;\r\n        height: 0;\r\n      }\r\n      .read-title-text {\r\n        flex: 0 0 px2rem(130);\r\n        font-size: px2rem(14);\r\n        color: #666;\r\n        text-align: center;\r\n      }\r\n    }\r\n    .book-wrapper {\r\n      #read {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakMask.vue?vue&type=template&id=a666dad2&scoped=true&\"\nimport script from \"./SpeakMask.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakMask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakMask.vue?vue&type=style&index=0&id=a666dad2&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a666dad2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=style&index=0&id=a666dad2&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=style&index=0&id=a666dad2&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","var DateProto = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar $toString = DateProto[TO_STRING];\nvar getTime = DateProto.getTime;\nif (new Date(NaN) + '' != INVALID_DATE) {\n  require('./_redefine')(DateProto, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n","<template>\r\n  <div class=\"book-speaking\">\r\n    <detail-title @back=\"back\" ref=\"title\"></detail-title>\r\n    <scroll\r\n      class=\"content-wrapper\"\r\n      :top=\"42\"\r\n      :bottom=\"scrollBottom\"\r\n      :ifNoScroll=\"disableScroll\"\r\n      @onScroll=\"onScroll\"\r\n      ref=\"scroll\"\r\n    >\r\n      <book-info\r\n        :cover=\"cover\"\r\n        :title=\"title\"\r\n        :author=\"author\"\r\n        :desc=\"desc\"\r\n      ></book-info>\r\n      <div class=\"book-speak-title-wrapper\">\r\n        <div class=\"icon-speak-wrapper\">\r\n          <span class=\"icon-speak\"></span>\r\n        </div>\r\n        <div class=\"speak-title-wrapper\">\r\n          <span class=\"speak-title\">{{ $t(\"speak.voice\") }}</span>\r\n        </div>\r\n        <div class=\"icon-down-wrapper\" @click=\"toggleContent\">\r\n          <span\r\n            :class=\"{ 'icon-down2': !ifShowContent, 'icon-up': ifShowContent }\"\r\n          ></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"book-detail-content-wrapper\" v-show=\"ifShowContent\">\r\n        <div class=\"book-detail-content-list-wrapper\">\r\n          <div class=\"loading-text-wrapper\" v-if=\"!this.navigation\">\r\n            <span class=\"loading-text\">{{ $t(\"detail.loading\") }}</span>\r\n          </div>\r\n          <div class=\"book-detail-content-item-wrapper\">\r\n            <div\r\n              class=\"book-detail-content-item\"\r\n              v-for=\"(item, index) in flatNavigation\"\r\n              :key=\"index\"\r\n              @click=\"speak(item, index)\"\r\n            >\r\n              <speak-playing\r\n                v-if=\"playingIndex === index\"\r\n                :number=\"5\"\r\n                ref=\"speakPlaying\"\r\n              ></speak-playing>\r\n              <div\r\n                class=\"book-detail-content-navigation-text\"\r\n                :class=\"{ 'is-playing': playingIndex === index }\"\r\n                v-if=\"item.label\"\r\n              >\r\n                {{ item.label }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <audio\r\n        @canplay=\"onCanPlay\"\r\n        @timeupdate=\"onTimeUpdate\"\r\n        @ended=\"onAudioEnded\"\r\n        ref=\"audio\"\r\n      ></audio>\r\n    </scroll>\r\n    <bottom\r\n      :chapter=\"chapter\"\r\n      :currentSectionIndex=\"currentSectionIndex\"\r\n      :currentSectionTotal=\"currentSectionTotal\"\r\n      :showPlay=\"showPlay\"\r\n      :isPlaying.sync=\"isPlaying\"\r\n      :playInfo=\"playInfo\"\r\n      @onPlayingCardClick=\"onPlayingCardClick\"\r\n    ></bottom>\r\n    <div class=\"book-wrapper\">\r\n      <div id=\"read\"></div>\r\n    </div>\r\n    <speak-window\r\n      :title=\"this.chapter ? this.chapter.label : ''\"\r\n      :book=\"book\"\r\n      :section=\"section\"\r\n      :currentSectionIndex.sync=\"currentSectionIndex\"\r\n      :currentSectionTotal=\"currentSectionTotal\"\r\n      :isPlaying.sync=\"isPlaying\"\r\n      :playInfo=\"playInfo\"\r\n      @updateText=\"updateText\"\r\n      ref=\"speakWindow\"\r\n    ></speak-window>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport DetailTitle from \"../../components/detail/DetailTitle\";\r\nimport BookInfo from \"../../components/detail/BookInfo\";\r\nimport Scroll from \"../../components/common/Scroll\";\r\nimport SpeakPlaying from \"../../components/speak/SpeakPlaying\";\r\nimport Bottom from \"../../components/speak/SpeakBottom\";\r\nimport SpeakWindow from \"../../components/speak/SpeakMask\";\r\nimport { findBook, getCategoryName } from \"../../utils/store\";\r\nimport { download, flatList } from \"../../api/book\";\r\nimport { getLocalForage } from \"../../utils/localForage\";\r\nimport { realPx } from \"../../utils/utils\";\r\nimport Epub from \"epubjs\";\r\n\r\nglobal.ePub = Epub;\r\n\r\nexport default {\r\n  components: {\r\n    DetailTitle,\r\n    BookInfo,\r\n    Scroll,\r\n    SpeakPlaying,\r\n    Bottom,\r\n    SpeakWindow,\r\n  },\r\n  computed: {\r\n    currentMinute() {\r\n      const m = Math.floor(this.currentPlayingTime / 60);\r\n      return m < 10 ? \"0\" + m : m;\r\n    },\r\n    currentSecond() {\r\n      const s = Math.floor(\r\n        this.currentPlayingTime - parseInt(this.currentMinute) * 60\r\n      );\r\n      return s < 10 ? \"0\" + s : s;\r\n    },\r\n    totalMinute() {\r\n      const m = Math.floor(this.totalPlayingTime / 60);\r\n      return m < 10 ? \"0\" + m : m;\r\n    },\r\n    totalSecond() {\r\n      const s = Math.floor(\r\n        this.totalPlayingTime - parseInt(this.totalMinute) * 60\r\n      );\r\n      return s < 10 ? \"0\" + s : s;\r\n    },\r\n    leftMinute() {\r\n      const m = Math.floor(\r\n        (this.totalPlayingTime - this.currentPlayingTime) / 60\r\n      );\r\n      return m < 10 ? \"0\" + m : m;\r\n    },\r\n    leftSecond() {\r\n      const s = Math.floor(\r\n        this.totalPlayingTime -\r\n          this.currentPlayingTime -\r\n          parseInt(this.leftMinute) * 60\r\n      );\r\n      return s < 10 ? \"0\" + s : s;\r\n    },\r\n    playInfo() {\r\n      if (this.audioCanPlay) {\r\n        return {\r\n          currentMinute: this.currentMinute,\r\n          currentSecond: this.currentSecond,\r\n          totalMinute: this.totalMinute,\r\n          totalSecond: this.totalSecond,\r\n          leftMinute: this.leftMinute,\r\n          leftSecond: this.leftSecond,\r\n        };\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n    lang() {\r\n      return this.metadata ? this.metadata.language : \"\";\r\n    },\r\n    disableScroll() {\r\n      if (this.$refs.speakWindow) {\r\n        return this.$refs.speakWindow.visible;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    showPlay() {\r\n      return this.playingIndex >= 0;\r\n    },\r\n    scrollBottom() {\r\n      return this.showPlay ? 116 : 52;\r\n    },\r\n    chapter() {\r\n      return this.flatNavigation[this.playingIndex];\r\n    },\r\n    desc() {\r\n      if (this.description) {\r\n        return this.description.substring(0, 100);\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n    flatNavigation() {\r\n      if (this.navigation) {\r\n        return Array.prototype.concat.apply(\r\n          [],\r\n          Array.prototype.concat.apply(\r\n            [],\r\n            this.doFlatNavigation(this.navigation.toc)\r\n          )\r\n        );\r\n      } else {\r\n        return [];\r\n      }\r\n    },\r\n    category() {\r\n      return this.bookItem ? getCategoryName(this.bookItem.category) : \"\";\r\n    },\r\n    title() {\r\n      return this.metadata ? this.metadata.title : \"\";\r\n    },\r\n    author() {\r\n      return this.metadata ? this.metadata.creator : \"\";\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      bookItem: null,\r\n      book: null,\r\n      rendition: null,\r\n      metadata: null,\r\n      cover: null,\r\n      navigation: null,\r\n      description: null,\r\n      ifShowContent: true,\r\n      playingIndex: -1,\r\n      paragraph: null,\r\n      currentSectionIndex: null,\r\n      currentSectionTotal: null,\r\n      section: null,\r\n      isPlaying: false,\r\n      audio: null,\r\n      audioCanPlay: false,\r\n      currentPlayingTime: 0,\r\n      totalPlayingTime: 0,\r\n      playStatus: 0, // 0 - 1 - 2 - \r\n      toastText: \"\",\r\n      isOnline: false,\r\n    };\r\n  },\r\n  methods: {\r\n    createVoice(text) {\r\n      const xmlhttp = new XMLHttpRequest();\r\n      xmlhttp.open(\r\n        \"GET\",\r\n        `${\r\n          process.env.VUE_APP_VOICE_URL\r\n        }/voice?text=${text}&lang=${this.lang.toLowerCase()}`,\r\n        false\r\n      );\r\n      xmlhttp.send();\r\n      const xmlDoc = xmlhttp.responseText;\r\n      if (xmlDoc) {\r\n        const json = JSON.parse(xmlDoc);\r\n        if (json.path) {\r\n          this.$refs.audio.src = json.path;\r\n          this.continuePlay();\r\n        } else {\r\n          this.showToast(\"\");\r\n        }\r\n      } else {\r\n        this.showToast(\"\");\r\n      }\r\n      /*\r\n        axios.create({\r\n          baseURL: process.env.VUE_APP_VOICE_URL + '/voice'\r\n        })({\r\n          method: 'get',\r\n          params: {\r\n            text: text,\r\n            lang: this.lang.toLowerCase()\r\n          }\r\n        }).then(response => {\r\n          if (response.status === 200) {\r\n            if (response.data.error === 0) {\r\n              const downloadUrl = response.data.path\r\n              console.log('...%s', downloadUrl)\r\n              downloadMp3(downloadUrl, blob => {\r\n                const url = window.URL.createObjectURL(blob)\r\n                console.log(blob, url)\r\n                this.$refs.audio.src = url\r\n                this.continuePlay()\r\n              })\r\n            } else {\r\n              this.showToast(response.data.msg)\r\n            }\r\n          } else {\r\n            this.showToast('')\r\n          }\r\n        }).catch(err => {\r\n          console.log(err)\r\n          this.showToast('')\r\n        })\r\n        */\r\n    },\r\n    togglePlay() {\r\n      if (!this.isPlaying) {\r\n        if (this.playStatus === 0) {\r\n          this.play();\r\n        } else if (this.playStatus === 2) {\r\n          this.continuePlay();\r\n        }\r\n      } else {\r\n        this.pausePlay();\r\n      }\r\n    },\r\n    speak(item, index) {\r\n      this.resetPlay();\r\n      this.playingIndex = index;\r\n      this.$nextTick(() => {\r\n        this.$refs.scroll.refresh();\r\n      });\r\n      if (this.chapter) {\r\n        this.section = this.book.spine.get(this.chapter.href);\r\n        this.rendition.display(this.section.href).then((section) => {\r\n          const currentPage = this.rendition.currentLocation();\r\n          const cfibase = section.cfiBase;\r\n          const cfistart = currentPage.start.cfi\r\n            .replace(/.*!/, \"\")\r\n            .replace(/\\)/, \"\");\r\n          const cfiend = currentPage.end.cfi\r\n            .replace(/.*!/, \"\")\r\n            .replace(/\\)/, \"\");\r\n          this.currentSectionIndex = currentPage.start.displayed.page;\r\n          this.currentSectionTotal = currentPage.start.displayed.total;\r\n          const cfi = `epubcfi(${cfibase}!,${cfistart},${cfiend})`;\r\n          // console.log(currentPage, cfi, cfibase, cfistart, cfiend)\r\n          this.book.getRange(cfi).then((range) => {\r\n            let text = range.toLocaleString();\r\n            text = text.replace(/\\s(2,)/g, \"\");\r\n            text = text.replace(/\\r/g, \"\");\r\n            text = text.replace(/\\n/g, \"\");\r\n            text = text.replace(/\\t/g, \"\");\r\n            text = text.replace(/\\f/g, \"\");\r\n            this.updateText(text);\r\n          });\r\n        });\r\n      }\r\n    },\r\n    resetPlay() {\r\n      if (this.playStatus === 1) {\r\n        this.pausePlay();\r\n      }\r\n      this.isPlaying = false;\r\n      this.playStatus = 0;\r\n    },\r\n    play() {\r\n      this.createVoice(this.paragraph);\r\n    },\r\n    continuePlay() {\r\n      this.$refs.audio.play().then(() => {\r\n        this.$refs.speakPlaying[0].startAnimation();\r\n        this.isPlaying = true;\r\n        this.playStatus = 1;\r\n      });\r\n    },\r\n    pausePlay() {\r\n      this.$refs.audio.pause();\r\n      this.$refs.speakPlaying[0].stopAnimation();\r\n      this.isPlaying = false;\r\n      this.playStatus = 2;\r\n    },\r\n    onAudioEnded() {\r\n      this.resetPlay();\r\n      this.currentPlayingTime = this.$refs.audio.currentTime;\r\n      const percent = Math.floor(\r\n        (this.currentPlayingTime / this.totalPlayingTime) * 100\r\n      );\r\n      this.$refs.speakWindow.refreshProgress(percent);\r\n    },\r\n    onTimeUpdate() {\r\n      this.currentPlayingTime = this.$refs.audio.currentTime;\r\n      const percent = Math.floor(\r\n        (this.currentPlayingTime / this.totalPlayingTime) * 100\r\n      );\r\n      this.$refs.speakWindow.refreshProgress(percent);\r\n    },\r\n    onCanPlay() {\r\n      this.audioCanPlay = true;\r\n      this.currentPlayingTime = this.$refs.audio.currentTime;\r\n      this.totalPlayingTime = this.$refs.audio.duration;\r\n    },\r\n    findBookFromList(fileName) {\r\n      flatList().then((response) => {\r\n        if (response.status === 200) {\r\n          const bookList = response.data.data.filter(\r\n            (item) => item.fileName === fileName\r\n          );\r\n          if (bookList && bookList.length > 0) {\r\n            this.bookItem = bookList[0];\r\n            this.init();\r\n          }\r\n        }\r\n      });\r\n    },\r\n    init() {\r\n      const fileName = this.$route.query.fileName;\r\n      if (!this.bookItem) {\r\n        this.bookItem = findBook(fileName);\r\n      }\r\n      if (this.bookItem) {\r\n        getLocalForage(fileName, (err, blob) => {\r\n          if (err || !blob) {\r\n            // this.downloadBook(fileName)\r\n            this.isOnline = true;\r\n            const opf = this.$route.query.opf;\r\n            if (opf) {\r\n              this.parseBook(opf);\r\n            }\r\n          } else {\r\n            this.isOnline = false;\r\n            this.parseBook(blob);\r\n          }\r\n        });\r\n      } else {\r\n        this.findBookFromList(fileName);\r\n      }\r\n    },\r\n    downloadBook(fileName) {\r\n      download(this.bookItem, () => {\r\n        getLocalForage(fileName, (err, blob) => {\r\n          if (err) {\r\n            return;\r\n          }\r\n          this.parseBook(blob);\r\n        });\r\n      });\r\n    },\r\n    parseBook(blob) {\r\n      this.book = new Epub(blob);\r\n      this.book.loaded.metadata.then((metadata) => {\r\n        this.metadata = metadata;\r\n      });\r\n      if (this.isOnline) {\r\n        this.book.coverUrl().then((url) => {\r\n          this.cover = url;\r\n        });\r\n      } else {\r\n        this.book.loaded.cover.then((cover) => {\r\n          this.book.archive.createUrl(cover).then((url) => {\r\n            this.cover = url;\r\n          });\r\n        });\r\n      }\r\n      this.book.loaded.navigation.then((nav) => {\r\n        this.navigation = nav;\r\n      });\r\n      this.display();\r\n    },\r\n    back() {\r\n      this.$router.go(-1);\r\n    },\r\n    onScroll(offsetY) {\r\n      if (offsetY > realPx(42)) {\r\n        this.$refs.title.showShadow();\r\n      } else {\r\n        this.$refs.title.hideShadow();\r\n      }\r\n    },\r\n    toggleContent() {\r\n      this.ifShowContent = !this.ifShowContent;\r\n    },\r\n    display() {\r\n      const height =\r\n        window.innerHeight * 0.9 -\r\n        realPx(40) -\r\n        realPx(54) -\r\n        realPx(46) -\r\n        realPx(48) -\r\n        realPx(60) -\r\n        realPx(44);\r\n      this.rendition = this.book.renderTo(\"read\", {\r\n        width: window.innerWidth,\r\n        height: height,\r\n        method: \"default\",\r\n      });\r\n      this.rendition.display();\r\n    },\r\n    doFlatNavigation(content, deep = 1) {\r\n      const arr = [];\r\n      content.forEach((item) => {\r\n        item.deep = deep;\r\n        arr.push(item);\r\n        if (item.subitems && item.subitems.length > 0) {\r\n          arr.push(this.doFlatNavigation(item.subitems, deep + 1));\r\n        }\r\n      });\r\n      return arr;\r\n    },\r\n    showToast(text) {\r\n      this.simpleToast(text);\r\n    },\r\n    onPlayingCardClick() {\r\n      this.$refs.speakWindow.show();\r\n    },\r\n    updateText(text) {\r\n      this.paragraph = text;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import \"../../assets/styles/global\";\r\n\r\n.book-speaking {\r\n  font-size: px2rem(16);\r\n  width: 100%;\r\n  background: white;\r\n  .content-wrapper {\r\n    width: 100%;\r\n    .book-speak-title-wrapper {\r\n      display: flex;\r\n      padding: px2rem(15);\r\n      box-sizing: border-box;\r\n      border-bottom: px2rem(1) solid #eee;\r\n      .icon-speak-wrapper {\r\n        flex: 0 0 px2rem(40);\r\n        @include left;\r\n        .icon-speak {\r\n          font-size: px2rem(24);\r\n          color: #999;\r\n        }\r\n      }\r\n      .speak-title-wrapper {\r\n        flex: 1;\r\n        @include left;\r\n        .speak-title {\r\n          font-size: px2rem(16);\r\n          font-weight: bold;\r\n          color: #666;\r\n        }\r\n      }\r\n      .icon-down-wrapper {\r\n        flex: 0 0 px2rem(40);\r\n        @include right;\r\n        .icon-up {\r\n          font-size: px2rem(12);\r\n          color: #999;\r\n        }\r\n        .icon-down2 {\r\n          font-size: px2rem(12);\r\n          color: #999;\r\n        }\r\n      }\r\n    }\r\n    .book-detail-content-wrapper {\r\n      width: 100%;\r\n      border-bottom: px2rem(1) solid #eee;\r\n      box-sizing: border-box;\r\n      .book-detail-content-list-wrapper {\r\n        padding: px2rem(10) px2rem(15);\r\n        .loading-text-wrapper {\r\n          width: 100%;\r\n          .loading-text {\r\n            font-size: px2rem(14);\r\n            color: #999;\r\n          }\r\n        }\r\n        .book-detail-content-item-wrapper {\r\n          .book-detail-content-item {\r\n            display: flex;\r\n            padding: px2rem(15) 0;\r\n            font-size: px2rem(14);\r\n            line-height: px2rem(16);\r\n            color: #333;\r\n            border-bottom: px2rem(1) solid #eee;\r\n            &:last-child {\r\n              border-bottom: none;\r\n            }\r\n            .book-detail-content-navigation-text {\r\n              flex: 1;\r\n              width: 100%;\r\n              @include ellipsis;\r\n              &.is-playing {\r\n                color: $color-blue;\r\n                font-weight: bold;\r\n                margin-left: px2rem(10);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .book-wrapper {\r\n    position: absolute;\r\n    bottom: -100%;\r\n    z-index: 100;\r\n  }\r\n}\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playing-item-wrapper\"},_vm._l((_vm.styles),function(item,index){return _c('div',{key:index,ref:\"playingItem\",refInFor:true,staticClass:\"playing-item\",style:(item)})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"playing-item-wrapper\">\r\n    <div\r\n      class=\"playing-item\"\r\n      :style=\"item\"\r\n      v-for=\"(item, index) in styles\"\r\n      :key=\"index\"\r\n      ref=\"playingItem\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { px2rem } from \"@/utils/utils\";\r\n\r\nexport default {\r\n  props: {\r\n    number: Number,\r\n  },\r\n  computed: {\r\n    styles() {\r\n      const styles = new Array(this.number);\r\n      for (let i = 0; i < styles.length; i++) {\r\n        styles[i] = {\r\n          height: px2rem(this.random()) + \"rem\",\r\n        };\r\n      }\r\n      return styles;\r\n    },\r\n  },\r\n  methods: {\r\n    startAnimation() {\r\n      this.task = setInterval(() => {\r\n        this.$refs.playingItem.forEach((item) => {\r\n          item.style.height = px2rem(this.random()) + \"rem\";\r\n        });\r\n      }, 200);\r\n    },\r\n    stopAnimation() {\r\n      if (this.task) {\r\n        clearInterval(this.task);\r\n      }\r\n    },\r\n    random() {\r\n      return Math.ceil(Math.random() * 10);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import \"../../assets/styles/global\";\r\n\r\n.playing-item-wrapper {\r\n  @include center;\r\n  .playing-item {\r\n    flex: 0 0 px2rem(2);\r\n    width: px2rem(2);\r\n    height: px2rem(1);\r\n    background: $color-blue;\r\n    margin-left: px2rem(2);\r\n    transition: all 0.2s ease-in-out;\r\n    &:first-child {\r\n      margin: 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakPlaying.vue?vue&type=template&id=27e4dcfb&scoped=true&\"\nimport script from \"./SpeakPlaying.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakPlaying.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakPlaying.vue?vue&type=style&index=0&id=27e4dcfb&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27e4dcfb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-speaking\"},[_c('detail-title',{ref:\"title\",on:{\"back\":_vm.back}}),_c('scroll',{ref:\"scroll\",staticClass:\"content-wrapper\",attrs:{\"top\":42,\"bottom\":_vm.scrollBottom,\"ifNoScroll\":_vm.disableScroll},on:{\"onScroll\":_vm.onScroll}},[_c('book-info',{attrs:{\"cover\":_vm.cover,\"title\":_vm.title,\"author\":_vm.author,\"desc\":_vm.desc}}),_c('div',{staticClass:\"book-speak-title-wrapper\"},[_c('div',{staticClass:\"icon-speak-wrapper\"},[_c('span',{staticClass:\"icon-speak\"})]),_c('div',{staticClass:\"speak-title-wrapper\"},[_c('span',{staticClass:\"speak-title\"},[_vm._v(_vm._s(_vm.$t(\"speak.voice\")))])]),_c('div',{staticClass:\"icon-down-wrapper\",on:{\"click\":_vm.toggleContent}},[_c('span',{class:{ 'icon-down2': !_vm.ifShowContent, 'icon-up': _vm.ifShowContent }})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifShowContent),expression:\"ifShowContent\"}],staticClass:\"book-detail-content-wrapper\"},[_c('div',{staticClass:\"book-detail-content-list-wrapper\"},[(!this.navigation)?_c('div',{staticClass:\"loading-text-wrapper\"},[_c('span',{staticClass:\"loading-text\"},[_vm._v(_vm._s(_vm.$t(\"detail.loading\")))])]):_vm._e(),_c('div',{staticClass:\"book-detail-content-item-wrapper\"},_vm._l((_vm.flatNavigation),function(item,index){return _c('div',{key:index,staticClass:\"book-detail-content-item\",on:{\"click\":function($event){return _vm.speak(item, index)}}},[(_vm.playingIndex === index)?_c('speak-playing',{ref:\"speakPlaying\",refInFor:true,attrs:{\"number\":5}}):_vm._e(),(item.label)?_c('div',{staticClass:\"book-detail-content-navigation-text\",class:{ 'is-playing': _vm.playingIndex === index }},[_vm._v(\"\\n              \"+_vm._s(item.label)+\"\\n            \")]):_vm._e()],1)}),0)])]),_c('audio',{ref:\"audio\",on:{\"canplay\":_vm.onCanPlay,\"timeupdate\":_vm.onTimeUpdate,\"ended\":_vm.onAudioEnded}})],1),_c('bottom',{attrs:{\"chapter\":_vm.chapter,\"currentSectionIndex\":_vm.currentSectionIndex,\"currentSectionTotal\":_vm.currentSectionTotal,\"showPlay\":_vm.showPlay,\"isPlaying\":_vm.isPlaying,\"playInfo\":_vm.playInfo},on:{\"update:isPlaying\":function($event){_vm.isPlaying=$event},\"update:is-playing\":function($event){_vm.isPlaying=$event},\"onPlayingCardClick\":_vm.onPlayingCardClick}}),_vm._m(0),_c('speak-window',{ref:\"speakWindow\",attrs:{\"title\":this.chapter ? this.chapter.label : '',\"book\":_vm.book,\"section\":_vm.section,\"currentSectionIndex\":_vm.currentSectionIndex,\"currentSectionTotal\":_vm.currentSectionTotal,\"isPlaying\":_vm.isPlaying,\"playInfo\":_vm.playInfo},on:{\"update:currentSectionIndex\":function($event){_vm.currentSectionIndex=$event},\"update:current-section-index\":function($event){_vm.currentSectionIndex=$event},\"update:isPlaying\":function($event){_vm.isPlaying=$event},\"update:is-playing\":function($event){_vm.isPlaying=$event},\"updateText\":_vm.updateText}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-wrapper\"},[_c('div',{attrs:{\"id\":\"read\"}})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StoreSpeaking.vue?vue&type=template&id=5922b02c&scoped=true&\"\nimport script from \"./StoreSpeaking.vue?vue&type=script&lang=js&\"\nexport * from \"./StoreSpeaking.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StoreSpeaking.vue?vue&type=style&index=0&id=5922b02c&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5922b02c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=style&index=0&id=5922b02c&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=style&index=0&id=5922b02c&lang=scss&rel=stylesheet%2Fscss&scoped=true&\""],"sourceRoot":""}