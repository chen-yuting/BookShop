{"version":3,"sources":["webpack:///./src/views/store/StoreList.vue?fd83","webpack:///src/views/store/StoreList.vue","webpack:///./src/views/store/StoreList.vue?ab59","webpack:///./src/views/store/StoreList.vue","webpack:///./src/views/store/StoreList.vue?645f","webpack:///./src/components/detail/DetailTitle.vue?e270","webpack:///./src/components/detail/DetailTitle.vue?8f15","webpack:///src/components/detail/DetailTitle.vue","webpack:///./src/components/detail/DetailTitle.vue?d422","webpack:///./src/components/detail/DetailTitle.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","title","on","back","onScroll","_l","value","key","index","titleText","getCategoryText","staticRenderFns","components","DetailTitle","Scroll","Featured","computed","list","totalNumber","Object","keys","forEach","num","data","total","methods","$router","go","offsetY","$refs","showShadow","hideShadow","getList","category","created","$route","query","categoryText","component","class","ifHideShadow","$event","showBookShelf","_v","_s","_e","props","String","showShelf","type","Boolean","default","push"],"mappings":"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","file":"js/chunk-e4715daa.fdf39ddf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-list-wrapper\"},[_c('detail-title',{ref:\"title\",attrs:{\"title\":_vm.title,\"showShelf\":true},on:{\"back\":_vm.back}}),_c('scroll',{ref:\"scroll\",staticClass:\"book-list-scroll-wrapper\",attrs:{\"top\":42},on:{\"onScroll\":_vm.onScroll}},_vm._l((_vm.list),function(value,key,index){return _c('featured',{key:index,attrs:{\"data\":value,\"titleText\":_vm.titleText ? _vm.titleText : _vm.getCategoryText(key),\"btnText\":''}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"book-list-wrapper\">\n    <detail-title\n      :title=\"title\"\n      :showShelf=\"true\"\n      @back=\"back\"\n      ref=\"title\"\n    ></detail-title>\n    <scroll\n      class=\"book-list-scroll-wrapper\"\n      :top=\"42\"\n      @onScroll=\"onScroll\"\n      ref=\"scroll\"\n    >\n      <featured\n        :data=\"value\"\n        :titleText=\"titleText ? titleText : getCategoryText(key)\"\n        :btnText=\"''\"\n        v-for=\"(value, key, index) in list\"\n        :key=\"index\"\n      ></featured>\n    </scroll>\n  </div>\n</template>\n\n<script>\nimport DetailTitle from \"@/components/detail/DetailTitle\";\nimport Scroll from \"@/components/common/Scroll\";\nimport Featured from \"@/components/home/Featured\";\nimport { realPx } from \"@/utils/utils\";\nimport { list } from \"@/api/book\";\nimport { categoryList, categoryText } from \"@/utils/store\";\n\nexport default {\n  components: {\n    DetailTitle,\n    Scroll,\n    Featured,\n  },\n  computed: {\n    title() {\n      if (this.list) {\n        return (\n          this.total && this.$t(\"home.allBook\").replace(\"$1\", this.totalNumber)\n        );\n      } else {\n        return null;\n      }\n    },\n    totalNumber() {\n      let num = 0;\n      Object.keys(this.list).forEach((key) => {\n        num += this.list[key].length;\n      });\n      return num;\n    },\n  },\n  data() {\n    return {\n      list: null,\n      total: null,\n    };\n  },\n  methods: {\n    getCategoryText(key) {\n      return `${categoryText(categoryList[key], this)}(${\n        this.list[key].length\n      })`;\n    },\n    back() {\n      this.$router.go(-1);\n    },\n    onScroll(offsetY) {\n      if (offsetY > realPx(42)) {\n        this.$refs.title.showShadow();\n      } else {\n        this.$refs.title.hideShadow();\n      }\n    },\n    getList() {\n      list().then((response) => {\n        this.list = response.data.data;\n        this.total = response.data.total;\n        const category = this.$route.query.category;\n        const keyword = this.$route.query.keyword;\n        if (category) {\n          const key = Object.keys(this.list).filter(\n            (item) => item === category\n          )[0];\n          const data = this.list[key];\n          this.list = {};\n          this.list[key] = data;\n        } else if (keyword) {\n          Object.keys(this.list).filter((key) => {\n            this.list[key] = this.list[key].filter(\n              (book) => book.fileName.indexOf(keyword) >= 0\n            );\n            return this.list[key].length > 0;\n          });\n        }\n      });\n    },\n  },\n  created() {\n    this.getList();\n    this.titleText = this.$route.query.categoryText;\n  },\n};\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n@import \"../../assets/styles/global\";\n\n.book-list-wrapper {\n  width: 100%;\n  height: 100%;\n  background: white;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StoreList.vue?vue&type=template&id=1547f51e&scoped=true&\"\nimport script from \"./StoreList.vue?vue&type=script&lang=js&\"\nexport * from \"./StoreList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StoreList.vue?vue&type=style&index=0&id=1547f51e&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1547f51e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreList.vue?vue&type=style&index=0&id=1547f51e&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreList.vue?vue&type=style&index=0&id=1547f51e&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTitle.vue?vue&type=style&index=0&id=04fce4c4&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTitle.vue?vue&type=style&index=0&id=04fce4c4&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-title-wrapper\",class:{'hide-shadow': _vm.ifHideShadow}},[_c('div',{staticClass:\"title-left-wrapper\",on:{\"click\":function($event){return _vm.back()}}},[_c('span',{staticClass:\"icon-back\"})]),_c('div',{staticClass:\"title-right-wrapper\"},[(_vm.showShelf)?_c('span',{staticClass:\"icon-shelf icon\",on:{\"click\":_vm.showBookShelf}}):_c('span',{staticClass:\"icon-share\"})]),(_vm.title)?_c('div',{staticClass:\"title-text\"},[_vm._v(_vm._s(_vm.title))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 详情页面的标题栏组件 -->\n  <div class=\"detail-title-wrapper\" :class=\"{'hide-shadow': ifHideShadow}\">\n    <div class=\"title-left-wrapper\" @click=\"back()\">\n      <span class=\"icon-back\"></span>\n    </div>\n    <div class=\"title-right-wrapper\">\n      <span class=\"icon-shelf icon\" v-if=\"showShelf\" @click=\"showBookShelf\"></span>\n      <span class=\"icon-share\" v-else></span>\n    </div>\n    <div class=\"title-text\" v-if=\"title\">{{title}}</div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nexport default {\n  props: {\n    title: String,\n    showShelf: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      ifHideShadow: true,\n    };\n  },\n  methods: {\n    showBookShelf() {\n      this.$router.push(\"/store/shelf\");\n    },\n    showShadow() {\n      this.ifHideShadow = false;\n    },\n    hideShadow() {\n      this.ifHideShadow = true;\n    },\n    back() {\n      this.$router.go(-1);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n@import \"../../assets/styles/global\";\n.detail-title-wrapper {\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: px2rem(42);\n  box-shadow: 0 px2rem(2) px2rem(2) 0 rgba(0, 0, 0, 0.1);\n  font-size: px2rem(20);\n  color: #666;\n  &.hide-shadow {\n    box-shadow: none;\n  }\n  .title-left-wrapper {\n    position: relative;\n    z-index: 200;\n    flex: 1;\n    margin-left: px2rem(15);\n    @include left;\n  }\n  .title-right-wrapper {\n    position: relative;\n    z-index: 200;\n    flex: 1;\n    margin-right: px2rem(15);\n    @include right;\n  }\n  .title-text {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 100;\n    width: 100%;\n    height: px2rem(42);\n    font-size: px2rem(16);\n    color: #333;\n    @include center;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailTitle.vue?vue&type=template&id=04fce4c4&scoped=true&\"\nimport script from \"./DetailTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailTitle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailTitle.vue?vue&type=style&index=0&id=04fce4c4&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04fce4c4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}